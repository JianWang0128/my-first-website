<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>欢迎来到jane的网站</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="leaflet/leaflet.css" />
  <script src="leaflet/leaflet.js"></script>
  </head>
</head>
<body>
  <nav>
    <ul>
      <li><a href="#">首页</a></li>
      <li><a href="#">关于</a></li>
      <li><a href="#">服务</a></li>
      <li><a href="#">联系我们</a></li>
    </ul>
  </nav>

  <header class="hero">
    <h1>更新日志：地图中添加了油麻地果栏</h1>
    <p>这是一个简单的示例网站，展示了基本的网页元素</p>
    <a href="#contact" class="btn">联系我们</a>
  </header>

  <section class="features">
    <h2>网站特色</h2>
    <div class="feature">
      <h3>简洁设计</h3>
      <p>采用现代简约的设计风格，提供良好的用户体验</p>
    </div>
    <div class="feature">
      <h3>响应式布局</h3>
      <p>在手机、平板和电脑上都能完美展示</p>
    </div>
  </section>
  
  <!-- 地图容器，必须有id="hk-map" -->
  <div id="hk-map" style="width:90%;height:500px;position:relative;margin:auto;border-radius:8px 8px 8px 8px;">
    <!-- 浮窗放在地图容器内部，并覆盖左半部分 -->
    <div id="info-popup" style="
      display:none;
      position:absolute;
      top:0;
      left:0;
      width:50%;
      height:100%;
      background:#fff;
      border-radius:8px 8px 0px 0px;
      box-shadow:2px 0 8px rgba(0,0,0,0.15);
      z-index:1000;
      padding:0px 0px 0px 0px;
      box-sizing:border-box;
      overflow:auto;
    ">
      <span id="close-popup" style="position:absolute; top:12px; right:18px; cursor:pointer; font-size:22px;">×</span>
      <img id="popup-img" src="" alt="景点图片" style="width:100%;border-radius:6px;">
      <h3 id="popup-title" style="margin:18px 0 8px 0;"></h3>
      <p id="popup-desc" style="margin:0;"></p>
    </div>
  </div>
  <script>
    // 初始中心和缩放
    var initialCenter = [22.2901, 114.1827];
    var initialZoom = 14;

    var map = L.map('hk-map').setView(initialCenter, initialZoom);

    L.tileLayer('https://{s}.tile.jawg.io/jawg-sunny/{z}/{x}/{y}{r}.png?access-token=t0NFjF6QCFD8hGAc63VRBiLszXybQNkReHept8Gj1MPQlRl9t79sedBWRORJHk9F', {
      maxZoom: 22,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://www.jawg.io" target="_blank">Jawg</a>'
    }).addTo(map);

    // 景点数据
    var spots = [
      {
        latlng: [22.31212, 114.16868],
        title: '油麻地果栏',
        img: 'pictures/youmadiguolan.png',
        desc: '油麻地果栏位于香港九龙油麻地新填地街, 是香港主要的水果批发市场, 承担全港近八成的果批业务。该市场始建于1913年, 其装饰艺术风格建筑群于2009年被评定为二级历史建筑。作为香港重要的文化遗产, 油麻地果栏不仅保留战前建筑风貌, 还承载了独特的市井文化'
      }
    ];

    // 添加标记和交互
    spots.forEach(function(spot) {
      var marker = L.marker(spot.latlng).addTo(map).bindPopup(spot.title);
      marker.on('click', function(e) {
        // 放大并偏移地图，使标记在右半部分
        map.setView(spot.latlng, 17, {animate: true});
        setTimeout(function() {
          // 计算偏移量（向左平移地图宽度的1/4）
          var mapWidth = map.getSize().x;
          map.panBy([-mapWidth/4, 0], {animate: true});
        }, 400);

        // 显示浮窗
        document.getElementById('popup-img').src = spot.img;
        document.getElementById('popup-title').textContent = spot.title;
        document.getElementById('popup-desc').textContent = spot.desc;
        document.getElementById('info-popup').style.display = 'block';
      });
    });

    // 关闭浮窗并恢复地图
    document.getElementById('close-popup').onclick = function() {
      document.getElementById('info-popup').style.display = 'none';
      map.setView(initialCenter, initialZoom, {animate: true});
    };
  </script>

    <div class="gallery">
    <img src="https://picsum.photos/300/200?random=1" alt="示例图片1">
    <img src="https://picsum.photos/300/200?random=2" alt="示例图片2">
    <img src="https://picsum.photos/300/200?random=3" alt="示例图片3">
  </div>

  <section id="contact">
    <h2>联系我们</h2>
    <form>
      <label for="name">姓名：</label>
      <input type="text" id="name" required>
      
      <label for="email">邮箱：</label>
      <input type="email" id="email" required>
      
      <label for="message">留言：</label>
      <textarea id="message"></textarea>
      
      <button type="submit">发送</button>
    </form>
  </section>

  <footer>
    <p>© 2025 我的网站版权所有</p>
    <ul>
      <li><a href="#">隐私政策</a></li>
      <li><a href="#">使用条款</a></li>
    </ul>
  </footer>
</body>
</html>